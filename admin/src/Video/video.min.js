function video_init(e){function t(e,t){switch(e){case"online":null===$e&&($e=a(t),Ne.publish("conectar",o()));break;case"conectar":null===be&&(be=n(t)),i(t);break;case"desconectar":d(t);break;case"changeStatus":r(t);break;case"readMessage":D(t);break;case"message":O(t);break;case"chanelComunicVideo":f(t);break;case"sendIceCandidate":S(t);break;case"onError":u(t)}}function o(){var e={conectar:{userId:ke.userId,status:"online"}};return JSON.stringify(e)}function n(e){var t=JSON.parse(e);return parseInt(t.sessionId)}function s(){return parseInt(be)}function a(e){try{$.ajax({url:ke.url,data:{userId:ke.userId,process:"selectUsers"},method:"POST",dataType:"JSON",success:function(t){null!==t&&(l(t),c(e))},error:function(e){console.log(e)}})}catch(t){console.log(t)}}function l(e){try{$e=new Array;for(var t=0;t<e.length;t++){var o=new Object;o.sessionId=null,o.userId=e[t].userId,o.nome=e[t].nome,o.nick=e[t].nick,o.status="offline",o.button=null,o.i=null,o.badge=A(e[t].msgNotRead),o.alertMsg=null,o.chat={visible:!1,window:{_construct:!1,panel:null,header:null,title:null,body:null,footer:null,form:null,textarea:null,buttonSend:null,iconClose:null},message:[{from:null,text:null,read:null,data:null}]},o.modal={visible:!1,close:null,window:null,iconCall:null,iconCloseCall:null,content:null,somChamada:null},$e[parseInt(e[t].userId)]=o}}catch(n){console.log(n)}}function c(e){try{var t=JSON.parse(e),o=$(t).toArray();$e.forEach(function(e){o.forEach(function(t){for(var o=0;o<t.length;o++)parseInt(e.userId)===parseInt(t[o].userId)&&(e.status=t[o].status,e.sessionId=t[o].sessionId)}),e.button=q(e),e.i=j(e.status)}),oe()}catch(n){console.log(n)}}function i(e){try{var t=JSON.parse(e),o=parseInt(t.userId);if(parseInt(be)!==parseInt(t.sessionId))if("offline"===t.status)d(e);else for(var n=0;n<ke.optionsStatus.length;n++)if(ke.optionsStatus[n].text===t.status){$e[o].sessionId=t.sessionId,$e[o].button.value=t.sessionId,$e[o].status=t.status,$e[o].i["class"]=ke.optionsStatus[n].icon,$e[o].i.className=ke.optionsStatus[n].icon,$e[o].i.classList=ke.optionsStatus[n].icon,$e[o].i.style.color=ke.optionsStatus[n].color,$e[o].i.title=ke.optionsStatus[n].text;break}}catch(s){console.log(s)}}function r(e){try{var t=JSON.parse(e),o=parseInt(t.userId);if(parseInt(be)!==parseInt(t.sessionId)&&parseInt($e[o].sessionId)===parseInt(t.sessionId)){$e[o].status=t.status;for(var n=0;n<ke.optionsStatus.length;n++)if(ke.optionsStatus[n].text===t.status){$e[o].i["class"]=ke.optionsStatus[n].icon,$e[o].i.className=ke.optionsStatus[n].icon,$e[o].i.classList=ke.optionsStatus[n].icon,$e[o].i.style.color=ke.optionsStatus[n].color,$e[o].i.title=ke.optionsStatus[n].text;break}}}catch(s){console.log(s)}}function d(e){try{var t=JSON.parse(e),o=parseInt(t.desconectar.userId);if(parseInt(ke.userId)!==parseInt(t.desconectar.userId)&&parseInt($e[o].sessionId)===parseInt(t.desconectar.sessionId))for(var n=0;n<ke.optionsStatus.length;n++)if(ke.optionsStatus[n].text===t.desconectar.status){$e[o].sessionId=null,$e[o].i["class"]=ke.optionsStatus[n].icon,$e[o].i.className=ke.optionsStatus[n].icon,$e[o].i.classList=ke.optionsStatus[n].icon,$e[o].i.style.color=ke.optionsStatus[n].color,$e[o].i.title=ke.optionsStatus[n].text;break}}catch(s){console.log(s)}}function u(e){try{var t=JSON.parse(e),o=parseInt(t.onError.userId);if(s()===parseInt(t.onError.oldSessionId)){Ne.close(),$e=null;var n="Usuário duplicado, sua conexão foi fechada !! Provavelmente este login está sendo usado em outro dispositivo.";we(n)}else if(parseInt(ke.userId)!==parseInt(t.onError.userId)&&parseInt($e[o].sessionId)===parseInt(t.onError.oldSessionId)){$e[o].sessionId=t.onError.sessionId,$e[o].button.value=t.onError.sessionId;for(var a=0;a<ke.optionsStatus.length;a++)t.onError.status===ke.optionsStatus[a].text&&($e[o].i["class"]=ke.optionsStatus[a].icon,$e[o].i.className=ke.optionsStatus[a].icon,$e[o].i.classList=ke.optionsStatus[a].icon,$e[o].i.style.color=ke.optionsStatus[a].color,$e[o].i.title=ke.optionsStatus[a].text)}}catch(n){console.log(n)}}function m(e){try{var t=parseInt(e.userId);$e[t].chat.window._construct===!1?($e[t].chat.window.panel=U(e),$e[t].chat.window.body=Y(),$e[t].chat.window.header=H(),$e[t].chat.window.footer=W(),$e[t].chat.window.title=P(e),$e[t].chat.window.form=K(e),$e[t].chat.window.iconClose=G(e),$e[t].chat.window.buttonSend=Q(),$e[t].chat.window.textarea=X(e),$($e[t].chat.window.header).append($e[t].chat.window.iconClose),$($e[t].chat.window.header).append($e[t].chat.window.title),$($e[t].chat.window.panel).append($e[t].chat.window.header),$($e[t].chat.window.panel).append($e[t].chat.window.body),$($e[t].chat.window.form).append($e[t].chat.window.textarea),$($e[t].chat.window.form).append($e[t].chat.window.buttonSend),$($e[t].chat.window.footer).append($e[t].chat.window.form),$($e[t].chat.window.panel).append($e[t].chat.window.footer),$($e[t].modal.content).append($e[t].chat.window.panel),$($e[t].chat.window.panel).fadeIn(),$e[t].chat.window._construct=!0,B(t)):$($e[t].chat.window.panel).is(":visible")||$($e[t].chat.window.panel).fadeIn(),$e[t].chat.visible=!0,$e[t].badge.text=null,$e[t].badge.innerText=null,_(t),$($e[t].chat.window.textarea).focus(),V(e)}catch(o){console.log(o)}}function p(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}function f(e){try{var t=JSON.parse(e);"chamando"===t.message?b(t):"desligou"===t.message?g(t):"estabelecerChamada"===t.message&&v(t)}catch(o){console.log(o)}}function h(e){try{null!==$e[e.userId].sessionId&&"offline"!==$e[e.userId].status?y($e[e.userId]):we("Você esta tentado estabelecer vídeo conferência com um usuário  que está off-line")}catch(t){console.log(t)}}function w(e){try{C(e)}catch(t){console.log(t)}}function y(e){try{$e[e.userId].modal.window=ae(e),$e[e.userId].modal.content=re(e,"chamando"),$e[e.userId].modal.iconCall=me(),$($e[e.userId].modal.content).append($e[e.userId].modal.iconCall),$($e[e.userId].modal.content).append(le()),$e[e.userId].modal.close=ie($e[e.userId]),$($e[e.userId].modal.window).append($e[e.userId].modal.close),$($e[e.userId].modal.window).append($e[e.userId].modal.content),$("body").append($e[e.userId].modal.window).fadeIn(),Ie=!0,$e[e.userId].modal.visible=!0,Se=setTimeout(x,ke.timeToResponse,e),E(e,!0)}catch(t){console.log(t)}}function b(e){try{Ie!==!0&&($e[e.from].modal.window=ae(),$e[e.from].modal.content=re($e[e.from],"recebendo"),$($e[e.from].modal.content).prepend(pe()),$e[e.from].modal.iconCall=de(e),$e[e.from].modal.iconCloseCall=ue($e[e.from]),$($e[e.from].modal.content).append($e[e.from].modal.iconCall),$($e[e.from].modal.content).append($e[e.from].modal.iconCloseCall),$($e[e.from].modal.content).append(le()),$e[e.from].modal.close=ie($e[e.from]),$($e[e.from].modal.window).append($e[e.from].modal.close),$($e[e.from].modal.window).append($e[e.from].modal.content),$("body").append($e[e.from].modal.window).fadeIn(),Ie=!0,$e[e.from].modal.visible=!0,Se=setTimeout(x,ke.timeToResponse-1e3,$e[e.from]))}catch(t){console.log(t)}}function I(e){try{k(e)}catch(t){console.log(t)}}function v(e){try{clearTimeout(Se),Se=null,$($e[e.from].modal.content).css(ke.contentCSSVideo),$($e[e.to].modal.content).css(ke.contentCSSVideo),s()===parseInt(e.sessionId_to)?(""!==e.sdp_answser&&ge.setRemoteDescription(new RTCSessionDescription(e.sdp_answser)),$($e[e.from].modal.content).html(Ce),$($e[e.from].modal.content).append(xe),$($e[e.from].modal.content).append(fe()),$($e[e.from].modal.content).append(he($e[e.from]))):($($e[e.to].modal.content).html(Ce),$($e[e.to].modal.content).append(xe),$($e[e.to].modal.content).append(fe()),$($e[e.to].modal.content).append(he($e[e.to])))}catch(t){console.log(t)}}function g(e){$e[e.from].modal.visible=!1,$e[e.from].chat.window._construct=!1,$e[e.from].chat.visible=!1,$($e[e.from].modal.window).remove(),$e[e.from].modal.window=null,Ie=!1,clearTimeout(Se),Se=null;var t=null!==$e[e.from].nick&&""!==$e[e.from].nick?$e[e.from].nick+" - "+$e[e.from].nome:$e[e.from].nome;we("O(a) "+t+" desligou a chamada de vídeo conferência neste momento."),ge!==!1&&(ge.close(),ge=!1),Ce.src="",xe.src=""}function C(e){try{$e[e.userId].modal.visible=!1,$e[e.userId].chat.window._construct=!1,$e[e.userId].chat.visible=!1,$($e[e.userId].modal.window).remove(),$e[e.userId].modal.window=null,Ie=!1;var t=new Object;t.from=ke.userId,t.to=e.userId,t.sessionId_from=s(),t.sessionId_to=e.sessionId,t.message="desligou",Ne.call("chanelComunicVideo",JSON.stringify(t)),clearTimeout(Se),Se=null,ge!==!1&&(ge.close(),ge=!1),Ce.src="",xe.src=""}catch(o){console.log(o)}}function x(e){$e[e.userId].modal.visible=!1,$e[e.userId].chat.window._construct=!1,$e[e.userId].chat.visible=!1,$($e[e.userId].modal.window).remove(),$e[e.userId].modal.window=null,Ie=!1,ge!==!1&&(ge.close(),ge=!1),Ce.src="",xe.src="",we("O tempo para chamada de vídeo conferência foi excedido")}function S(e){var t=JSON.parse(e);ge!==!1&&ge.addIceCandidate(new RTCIceCandidate(t.candidate))}function E(e,t){ge||(ge=new RTCPeerConnection(null)),ge.onicecandidate=function(e){e.candidate&&Ne.call("sendIceCandidate",JSON.stringify({candidate:e.candidate,sessionId:s()}))},ge.onnegotiationneeded=function(){t?ge.createOffer(function(o){ge.setLocalDescription(o);var n=new Object;n.from=ke.userId,n.to=e.userId,n.sessionId_from=s(),n.sessionId_to=e.sessionId,n.message=t===!0?"chamando":"recebendo",n.sdp=ge.localDescription,Ne.call("chanelComunicVideo",JSON.stringify(n))},F):""!==e.sdp&&ge.setRemoteDescription(new RTCSessionDescription(e.sdp),function(){"offer"===ge.remoteDescription.type&&ge.createAnswer(function(t){ge.setLocalDescription(t);var o=new Object;o.from=ke.userId,o.to=e.from,o.sessionId_from=s(),o.sessionId_to=e.sessionId_from,o.message="estabelecerChamada",o.estabelishConection=!0,o.sdp_answser=ge.localDescription,o.sdp_offer=e.sdp,Ne.call("chanelComunicVideo",JSON.stringify(o),!1)},F)},F)},ge.onaddstream=function(e){xe.src=URL.createObjectURL(e.stream)},N(!0)}function k(e){E(e,!1)}function N(e){navigator.getUserMedia({audio:e,video:e},function(e){Ce.src=URL.createObjectURL(e),ge.addStream(e),ve=e},F)}function F(e){log(e.name+": "+e.message)}function O(e){try{var t=JSON.parse(e),o=parseInt(t.from),n=new Array(t);if(R(o,n),$e[o].chat.visible!==!0){var s=""!==$($e[o].badge).text()?parseInt($e[o].badge.innerText):0;s++,$e[o].badge.innerText=s.toString(),$e[o].alertMsg=ce(),$($e[o].modal.content).find("audio").remove(),$($e[o].modal.content).append($e[o].alertMsg)}else t.sessionId=t.sessionId_from,t.userId=t.from,V(t)}catch(a){console.log(a)}}function R(e,t){try{for(var o=0;o<t.length;o++){var n=parseInt(t[o].from)===parseInt(ke.userId)?!0:!1,s=$e[e].chat.message.length;$e[e].chat.message[s]={from:parseInt(t[o].from),text:Z(t[o],n),data:ee(t[o],n),read:t[o].read===!0&&parseInt(t[o].from)===parseInt(ke.userId)?te():null},$($e[e].chat.window.body).append($e[e].chat.message[s].text),$($e[e].chat.message[s].data).append($e[e].chat.message[s].read),$($e[e].chat.window.body).append($e[e].chat.message[s].data)}_(e)}catch(a){console.log(a)}}function L(e){try{for(var t=0;t<e.length;t++)$.ajax({url:ke.url,data:{to:e[t].to,from:e[t].from,message:e[t].message,process:"saveMessage"},method:"POST",dataType:"JSON",success:function(e){e.ok===!0},error:function(e){console.log(e)}})}catch(o){console.log(o)}}function T(e,t){try{$.ajax({url:ke.url,data:{to:t,from:e,process:"setReadMessage"},method:"POST",dataType:"JSON",success:function(e){e.ok===!0},error:function(e){console.log(e)}})}catch(o){console.log(o)}}function _(e){try{var t=$e[e].chat.window.body;$(t).scrollTop($(t)[0].scrollHeight)}catch(o){console.log(o)}}function z(e){try{var t=parseInt(e.userId),o=$($e[t].chat.window.textarea).val();if($($e[t].chat.window.textarea).val(""),"\n"!==o[0]&&"\r"!==o[0]){var n=new Object;n.read=!1,n.message=J(o),n.from=ke.userId,n.to=t,n.data=(new moment).format("DD-MM-YYYY HH:mm"),n.sessionId_from=s(),n.sessionId_to=$e[t].sessionId,Ne.call("message",JSON.stringify(n));var a=new Array(n);L(a),R(t,a)}return!1}catch(o){return console.log(o),!1}}function J(e){return e=e.replace("\n",""),e=e.replace("\r","")}function M(e){try{var t=parseInt(e.userId);$($e[t].chat.window.panel).is(":visible")&&($($e[t].chat.window.panel).fadeOut(),$e[t].chat.visible=!1)}catch(o){console.log(o)}}function B(e){try{$.ajax({url:ke.url,data:{userId:ke.userId,from:e,qtdMessages:ke.qtdMessages,process:"getMessages"},method:"POST",dataType:"JSON",success:function(t){t.length&&R(e,t)},error:function(e){console.log(e)}})}catch(t){console.log(t)}}function V(e){if(T(e.userId,ke.userId),null!==e.sessionId){var t=new Object;t.sessionId_to=parseInt(e.sessionId),t.sessionId_from=s(),t.to=parseInt(ke.userId),t.from=parseInt(e.userId),t.read=!0,Ne.call("readMessage",JSON.stringify(t))}}function D(e){try{for(var t=JSON.parse(e),o=parseInt(t.to),n=0;n<$e[o].chat.message.length;n++)parseInt($e[o].chat.message[n].from)===parseInt(ke.userId)&&(null===$e[o].chat.message[n].read&&($e[o].chat.message[n].read=te()),$($e[o].chat.message[n].data).append($e[o].chat.message[n].read).fadeIn())}catch(s){console.log(s)}}function q(e){var t=document.createElement("button");return t.style.display="inline-block",t.innerText=""!==e.nick&&null!==e.nick?e.nick+" - "+e.nome:e.nome,t.text=""!==e.nick&&null!==e.nick?e.nick+" - "+e.nome:e.nome,t["class"]=ke.buttonClassInitCall,t.className=ke.buttonClassInitCall,t.classList=ke.buttonClassInitCall,t.value=e.sessionId,t.id=e.userId,t.type="button",t.onclick=function(){h(e)},t}function A(e){var t=document.createElement("span");return t.innerText=parseInt(e)>0?e:null,t["class"]=ke.classBadge,t.className=ke.classBadge,t.classList=ke.classBadge,t.style.backgroundColor=ke.colorBadge,t}function j(e){var t=document.createElement("i");t.nodeName="I",t.name="i";for(var o=0;o<ke.optionsStatus.length;o++)if(e===ke.optionsStatus[o].text){t["class"]=ke.optionsStatus[o].icon,t.className=ke.optionsStatus[o].icon,t.classList=ke.optionsStatus[o].icon,t.style.color=ke.optionsStatus[o].color,t.title=ke.optionsStatus[o].text;break}return t}function U(){var e=document.createElement("div");return e["class"]=ke.windowClass.panel,e.className=ke.windowClass.panel,e.classList=ke.windowClass.panel,e.style.zIndex="999",e.style.position="absolute",e.style["float"]="right",e.style.width="300px",e.style.margin="10px",e.style.right="2px",e.style.bottom="2px",e}function H(){var e=document.createElement("div");return e["class"]=ke.windowClass.header,e.className=ke.windowClass.header,e.classList=ke.windowClass.header,e.style.textOverflow="ellipsis",e}function P(e){var t=document.createElement("h3");return t["class"]=ke.windowClass.title,t.className=ke.windowClass.title,t.classList=ke.windowClass.title,t.text=""!==e.nick?e.nick+" - "+e.nome:e.nome,t.innerText=""!==e.nick&&null!==e.nick?e.nick+" - "+e.nome:e.nome,t.innerText=""!==e.nick&&null!==e.nick?e.nick+" - "+e.nome:e.nome,t.style.width="250px",t.style.textOverflow="ellipsis",t.style.whiteSpace="nowrap",t.style.overflow="hidden",t.style.textAlign="left",t}function Y(){var e=document.createElement("div");return e["class"]=ke.windowClass.body,e.className=ke.windowClass.body,e.classList=ke.windowClass.body,e.style.overflowY="auto",e.style.overflowX="hidden",e.style.height="270px",e}function W(){var e=document.createElement("div");return e["class"]=ke.windowClass.footer,e.className=ke.windowClass.footer,e.classList=ke.windowClass.footer,e.style.padding="0px",e.style.height="90px",e}function K(e){var t=document.createElement("form");return t.name="sendMsg",t.onsubmit=function(){return z(e),!1},t}function X(e){var t=document.createElement("textarea");return t.onkeyup=function(){return 13===window.event.keyCode?($(this).parents("form").submit(),!1):void 0},t.required="required",t.name="msg",t.cols="10",t.rows="3",t.style.position="absolute",t.style.width="70%",t.style.height="75px",t.style.left="0px",t.style.resize="none",t.style.border="none",t.style.backgroundColor="#f5f5f5",t.style.outline="none",t.style.padding="7px",t}function G(e){var t=document.createElement("i");return t["class"]=ke.windowClass.close,t.className=ke.windowClass.close,t.classList=ke.windowClass.close,t.title="Fechar",t.style.position="absolute",t.style.right="10px",t.style.top="10px",t.style.cursor="pointer",t.onclick=function(){M(e)},t}function Q(){var e=document.createElement("button");e.type="submit",e["class"]=ke.classButtonSend,e.className=ke.classButtonSend,e.classList=ke.classButtonSend,e.title="Enviar",e.style.position="absolute",e.style.right="0px",e.style.bottom="0px",e.style.width="30%",e.style.height="90px";var t=document.createElement("i");return t["class"]=ke.windowClass.iconSend,t.className=ke.windowClass.iconSend,t.classList=ke.windowClass.iconSend,t.style.color=ke.windowClass.sendColor,$(e).append(t),e}function Z(e,t){var o=document.createElement("div"),n=document.createElement("label");return n.innerText=e.message,n.text=e.message,n.style.padding="6px",n.style.wordWrap="break-word",t===!0?(n["class"]=ke.labelSendClass,n.classList=ke.labelSendClass,n.className=ke.labelSendClass,n.style.color=ke.labelSendColor,o.style.textAlign="left",n.style.borderRadius="0px 10px 10px 10px"):(n["class"]=ke.labelReceiveClass,n.classList=ke.labelReceiveClass,n.className=ke.labelReceiveClass,n.style.color=ke.labelReceiveColor,o.style.textAlign="right",n.style.borderRadius="10px 0px 10px 10px"),$(o).append(n),o}function ee(e,t){var o=document.createElement("div");return o.innerText=e.data+" ",o.text=e.data+" ",o.style.fontSize="0.8em",o.style.marginBottom="10px",t===!0?o.style.textAlign="left":o.style.textAlign="right",o}function te(){var e=document.createElement("i");return e["class"]=ke.iconRead,e.classList=ke.iconRead,e.className=ke.iconRead,e.style.color=ke.iconReadColor,e}function oe(){try{var e=document.createElement("div");$(e).addClass(ke["class"]);var t=document.createElement("ul");$e.forEach(function(e){if(parseInt(e.userId)!==parseInt(ke.userId)){var o=document.createElement("div");o.style.textOverflow="ellipsis",$(o).append(e.button),$(o).append(e.i);var n=document.createElement("li");$(n).append(o),$(t).append(n)}}),$(e).append(t);var o=$("#"+ke.innerDivMenuVideoContatos);$(o).html(""),$(o).append(e).fadeIn(),$(o).addClass(ke["class"])}catch(n){console.log(n)}}function ne(){var e=document.createElement("video");return e.autoplay=!0,e.muted=!0,e.id="localVideo",e.style.width="300px",e.style.height="225px",e.style.position="absolute",e.style.top="10px",e.style.left="10px",e.style.zIndex="1",e.style.border="1px solid #FFF",e}function se(){var e=document.createElement("video");return e.autoplay=!0,e.id="remoteVideo",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex="0",e}function ae(){var e=document.createElement("div");return e.style.position="fixed",e.style.backgroundColor="rgba(0,0,0,0.31)",e.style.right="0px",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.zIndex="9999",e.id=ke.divModalVideoConf,e}function le(){var e=document.createElement("audio");e.autoplay=!0,e.loop=!0,e.style.display="none";var t=document.createElement("source");return t.src=ke.sound_video_call,t.type="audio/mp3",$(e).append(t),e}function ce(){var e=document.createElement("audio");e.autoplay=!0,e.loop=!1,e.style.display="none";var t=document.createElement("source");return t.src=ke.sound_mensagem,t.type="audio/mp3",$(e).append(t),e}function ie(e){var t=document.createElement("i");return t.style.position="absolute",t.style.right="25px",t.style.top="10px",t.style.cursor="pointer",t["class"]=ke.icons.close,t.className=ke.icons.close,t.classList=ke.icons.close,t.style.zIndex="99999",t.onclick=function(){w(e)},t.onmouseover=function(){$(this).css({color:"#FF4222"})},t.onmouseout=function(){$(this).css({color:"#000"})},t.title="Fechar vídeo conferência",t}function re(e,t){var o=document.createElement("div");o.style.position="relative",o.style.width="30%",o.style.height="auto",o.style.margin="0px auto",o.style.top="calc(50% - 100px)",o.style.textAlign="center";var n=document.createElement("div"),s=""!==e.nick&&null!==e.nick?e.nick+" - "+e.nome:e.nome;return"recebendo"===t?(n.innerText="Recebendo chamada de vídeo conferência de\n"+s,n.text="Recebendo chamada de vídeo conferência de\n"+s):(n.innerText="Realizando chamada de vídeo conferência com\n"+s,n.text="Realizando chamada de vídeo conferência com\n"+s),n.style.color="#FFF",n.style.fontFamily="sans-serif",n.style.fontSize="17px",$(o).append(n),o}function de(e){var t=document.createElement("i");return t["class"]=ke.icons.call,t.className=ke.icons.call,t.classList=ke.icons.call,t.style.color=ke.icons.callColor,t.style.margin="10px",t.style.padding="10px",t.style.cursor="pointer",t.title="Realizar vídeo conferência",t.onclick=function(){I(e)},t.onmouseover=function(){$(this).css({color:ke.icons.callColorHover})},t.onmouseout=function(){$(this).css({color:ke.icons.callColor})},t}function ue(e){var t=document.createElement("i");return t["class"]=ke.icons.call,t.className=ke.icons.call,t.classList=ke.icons.call,t.style.color=ke.icons.closeCallColor,t.style.margin="10px",t.style.padding="10px",t.style.cursor="pointer",t.title="Desligar chamada de vídeo conferência",t.onclick=function(){C(e)},t.onmouseover=function(){$(this).css({color:ke.icons.closeCallColorHover})},t.onmouseout=function(){$(this).css({color:ke.icons.closeCallColor})},t}function me(){var e=document.createElement("i");return e["class"]=ke.icons.spinCall,e.className=ke.icons.spinCall,e.classList=ke.icons.spinCall,e.style.color=ke.icons.spinColor,e.style.margin="10px",e.style.padding="10px",e.style.cursor="pointer",e.title="Realizando pedido de vídeo conferência",e}function pe(){var e=document.createElement("i");return e["class"]=ke.icons.spinLitle,e.className=ke.icons.spinLitle,e.classList=ke.icons.spinLitle,e.style.color=ke.icons.spinLitleColor,e.style.margin="2px",e.style.padding="2px",e.style.cursor="pointer",e.title="Recebendo pedido de vídeo conferência",e}function fe(){var e=document.createElement("button");e.style.position="absolute",e.style.left="10px",e.style.bottom="100px",e.style.borderRadius="30px",e.style.width="35px",e.style.height="35px",e["class"]=ke.button.size+" btnFullscream",e.className=ke.button.size+" btnFullscream",e.classList=ke.button.size+" btnFullscream",e.title="Expandir | Retrair",e.onclick=function(){p()};var t=document.createElement("i");return t["class"]=ke.icons.fullscreem,t.className=ke.icons.fullscreem,t.classList=ke.icons.fullscreem,$(e).append(t),e}function he(e){var t=document.createElement("button");t.style.position="absolute",t.style.left="10px",t.style.bottom="60px",t.style.borderRadius="30px",t.style.width="35px",t.style.height="35px",t["class"]=ke.button.size+" btnChat",t.className=ke.button.size+" btnChat",t.classList=ke.button.size+" btnChat",t.title="Abrir Chat",t.onclick=function(){m(e)};var o=document.createElement("i");return o["class"]=ke.icons.activeChatBtn,o.className=ke.icons.activeChatBtn,o.classList=ke.icons.activeChatBtn,$(t).append(o),$(t).append(e.badge),t}function we(e){try{var t=document.createElement("div");t["class"]=ke.errorClass,t.className=ke.errorClass,t.classList=ke.errorClass;var o=document.createElement("p");o.innerText=e,o.text=e,$(t).append(o),$("body").append(t).fadeIn(),setTimeout(ye,ke.setTimeOut,t)}catch(e){console.log(e)}}function ye(e){$(e).remove()}var be=null,Ie=!1,ve=null,ge=!1,Ce=ne(),xe=se(),Se=null,$e=null,Ee={ws:"https:"===window.location.protocol?"wss://localhost:8080/Video":"ws://localhost:8080/Video",userId:null,url:"src/Controler/videoControler.php",timeToResponse:15e3,qtdMessages:30,buttonClassInitChat:"btn btn-success",buttonClassInitCall:"btn btn-link",classButtonSend:"btn btn-default",selectClassStatus:"btn btn-primary",iconRead:"fa fa-check-circle",iconReadColor:"#5CB85C",optionsStatus:[{text:"online",icon:"fa fa-video-camera",color:"#1EFF1E"},{text:"offline",icon:"fa fa-power-off",color:"#EC925B"},{text:"ocupado",icon:"fa fa-pencil-square-o",color:"#777777"}],"class":"video-conf",classBadge:"badge",colorBadge:"#EC925B",errorClass:"erroVideo",setTimeOut:5e3,labelReceiveColor:"#FFF",labelSendColor:"#FFF",labelReceiveClass:"label-info",labelSendClass:"label-warning",sound_mensagem:"./src/Chat/sound_mensagem.mp3",sound_video_call:"./src/Video/sound_video_call.mp3",windowClass:{panel:"panel panel-primary",header:"panel-heading",body:"panel-body",footer:"panel-footer",title:"panel-title",close:"fa fa-times",iconSend:"fa fa-3x fa-chevron-right",sendColor:""},icons:{call:"fa fa-5x fa-phone-square",callColor:"#55F555",callColorHover:"#60F160",spinCall:"fa fa-spinner fa-pulse fa-5x fa-fw margin-bottom",spinColor:"#55F555",closeCallColor:"#F58230",closeCallColorHover:"#EF995C",spinLitle:"fa fa-circle-o-notch fa-spin",spinLitleColor:"#55F555",close:"fa fa-3x fa-times",sendMsg:"fa fa-3x fa-chevron-right",sendColor:"",fullscreem:"fa fa-expand",microfone_on:"fa fa-microphone",microfone_off:"fa fa-microphone-slash",activeChatBtn:"fa fa-align-justify"},contentCSSVideo:{width:"100%",height:"100%",top:"0px",left:"0px"},divModalVideoConf:"modal-video-conf",innerDivMenuVideoContatos:"online-video-conf",button:{size:"btn btn-default btn-sm btn-round"}},ke=$.extend({},Ee,e),Ne=new ab.Session(ke.ws,function(){Ne.subscribe("online",t),Ne.subscribe("desconectar",t),Ne.subscribe("conectar",t),Ne.subscribe("changeStatus",t),Ne.subscribe("onError",t),Ne.subscribe("message",t),Ne.subscribe("readMessage",t),Ne.subscribe("chanelComunicVideo",t),Ne.subscribe("sendIceCandidate",t),Ne.publish("online",o()),console.log("CONECTAD0")},function(){console.warn("DESCONECTADO")},{skipSubprotocolCheck:!1})}